{% extends 'base.html' %}
{% load static %}

{% block content %}
{% load static %}
    
<div class = "first-page">    
    <div class = "temp"> 
            {% if user.is_authenticated %}
                <div class = "achievement">
                    <div class = "totalpc">
                        <div class = "achievepc" style="width: calc(500px * {{user.profile.already}} / {{user.profile.goal}}"></div>
                    </div>
                </div>

                <div class = "myshelf">
                    {% if user.profile.goal == 1000 %} 
                        <div class = "myshelf1">
                            <div class="shelf"></div>
                        </div>
                    {% elif user.profile.goal == 2000 %}
                        <div class = "myshelf2">
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                        </div>
                    {% elif user.profile.goal == 3000 %}
                        <div class = "myshelf3">
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                        </div>
                    {% elif user.profile.goal == 5000 %}
                        <div class = "myshelf4">
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                        </div>
                    {% elif user.profile.goal == 10000 %}
                        <div class = "myshelf5">
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                            <div class="shelf"></div>
                        </div>
                    {% endif %}
                {% for userbook in books %}
                        <div class = "bookiread" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                        {{userbook.bookid.title}} 
                    </div>
                {%endfor%}
                  {% for userbook in books %}
                    <a class="showmodal" href="#showModal" data-toggle="modal" data-id={{ userbook.id }}> 
                  {% comment %} <a href="/bookshelf/{{userbook.id}}"> {% endcomment %}
                    <div class="book-{{userbook.color}}" id ="{{userbook.id}}" style = " margin: 10px; height: 50px; width: calc({{userbook.whole_page}} / {{user.profile.goal}} * 80%) "> 
                     {{userbook.bookid.title}} 
                    </div>
                    </a> 

                {% endfor %} 
                </div>
                <div class = "newbook-btn">        
                    <button type="button" data-toggle="modal" data-target="#createModal" class="newbook">
                        <img src="{% static 'bookshelf/newbook.png'  %}">
                    </button>        
                </div>
                
            {% else %}
                <div class="back"> 
                    <img class="back_img" src="{% static 'bookshelf/back.png' %}"/>
                    <img class="back_img1" src="{% static 'bookshelf/logo.png' %}"/>
                </div>
            {% endif %}

    </div>
</div>

{% endblock content %}